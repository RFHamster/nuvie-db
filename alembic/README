# Alembic - Controle de Migrations no Banco de Dados

## O que √© o Alembic?

O **Alembic** √© uma ferramenta de versionamento de banco de dados para projetos Python que utilizam o SQLAlchemy.  
Ele permite criar, gerenciar e aplicar **migrations** (scripts que alteram a estrutura do banco de dados de forma controlada e incremental).

Com o Alembic, voc√™ consegue:

- Criar novas vers√µes do schema do banco
- Evoluir ou reverter a estrutura de tabelas, colunas, √≠ndices, etc.
- Manter o hist√≥rico de mudan√ßas estruturais do banco

---

## Scripts dispon√≠veis

Este projeto fornece dois scripts principais para facilitar o uso do Alembic:

---

### üìå 1. Criar uma Migration

**Script:** `./scripts/make_migrations.sh`

**Descri√ß√£o:**  
Gera um novo arquivo de migration, com base nas altera√ß√µes detectadas no modelo ou com c√≥digo manual.

**Como usar:**

```bash
./scripts/make_migrations.sh -e path-to-.env -n "nome_da_migration" -s "schema_destino"
```

Par√¢metros obrigat√≥rios:

| Par√¢metro | Descri√ß√£o                                                                    |
| --------- | ---------------------------------------------------------------------------- |
| `-e`      | Caminho para o arquivo `.env` com as configura√ß√µes de conex√£o com o banco    |
| `-n`      | Nome da migration (ex: `add_users_table`)                                    |
| `-s`      | Nome do schema onde a migration ser√° aplicada (ex: `public`, `finance`, etc) |

### üìå 2. Aplicar as Migrations

**Script:** `Script: ./scripts/apply_migrations.sh`

**Descri√ß√£o:**  
Aplica todas as migrations pendentes ao banco de dados, de acordo com a configura√ß√£o de ambiente.

**Como usar:**

```bash
./scripts/apply_migrations.sh -e path-to-.env
```

Par√¢metros obrigat√≥rios:

| Par√¢metro | Descri√ß√£o                                                                    |
| --------- | ---------------------------------------------------------------------------- |
| `-e`      | Caminho para o arquivo `.env` com as configura√ß√µes de conex√£o com o banco    |
